@using Webdiyer.WebControls.Mvc
@model YSWL.MALL.ViewModel.Shop.ProductListModel
@{
    Layout = "~/Areas/MShop/Themes/YX/Views/Shared/_BaseLayout.cshtml";
    string cid = Request.RequestContext.RouteData.Values["cid"] != null ? Request.RequestContext.RouteData.Values["cid"].ToString() : "0";
    string brandid = Request.RequestContext.RouteData.Values["brandid"] != null ? Request.RequestContext.RouteData.Values["brandid"].ToString() : "0";
    string attrvalues = Request.RequestContext.RouteData.Values["attrvalues"] != null ? Request.RequestContext.RouteData.Values["attrvalues"].ToString() : "0";
    string keyword = Request.RequestContext.RouteData.Values["keyword"] != null ? Request.RequestContext.RouteData.Values["keyword"].ToString() : "";
    string mod = Request.RequestContext.RouteData.Values["mod"] != null ? Request.RequestContext.RouteData.Values["mod"].ToString() : "hot";
    ViewBag.Title = "商品列表";
}
<script type="text/javascript" src="@Url.Content("/Scripts/jquery.unobtrusive-ajax.min.js")"></script>
<script src="/Scripts/jquery/maticsoft.img.min.js" type="text/javascript"></script>
<link type="text/css" rel="stylesheet" href="/Areas/MShop/Themes/YX/Content/css/item.css" />
<link type="text/css" rel="stylesheet" href="/Areas/MShop/Themes/YX/Content/css/list.css" />

<script type="text/javascript">
    $(function() {
        $(".modList[mod='@(mod)']").parent("li").addClass("current");
        $(".modList").click(function () {
            var mod = $(this).attr("mod");
            location.href = $YSWL.BasePath + "p/@(cid)/@(brandid)/@(attrvalues)/" + mod;
        });
    });
</script>

<div class="J_searchListWrapper" style="overflow: hidden;min-height: 480px;">
    <!--列表页-->
    <div class="page_list">
        @if (null != Model)
        {
            <div class="J_main_wrapper">
                <div class="J_float">
                    <!--顶部导航-->
                    <header class="y_hd">
                        <a href="javascript:;" onclick="history.go(-1);" class="y_hd_back J_ytag" ytag="10000"
                            data-type="1"></a>
                        <dl class="numadd">
                            <dt class="name">全部 @YSWL.Common.StringPlus.SubString(Model.CurrentCateName,8,null)</dt>
                            <dd class="num J_num">
                                共<span>@ViewBag.totalCount</span>件</dd>
                            <a href="@(ViewBag.BasePath)product/Filter/@(cid)" id="J_filter"  class="y_hdb J_ytag">筛选<i class="y_cart_num"></i></a>
                        </dl>
                    </header>
                    <!--/顶部导航-->
                    <!--筛选-->
                    <div class="filter">
                        <ul>
                              <li class=""><a id="J_sort_sell" href="javascript:;" class="J_ytag modList" data-type="2" mod="hot"
                                ytag="21002">热销</a></li>
                            <li class=""><a id="J_sort_price" href="javascript:;" class="J_ytag modList" data-type="2" mod="price"
                                            ytag="21001">价格</a></li>
                            <li class=""><a id="J_comment" href="javascript:;" class="J_ytag modList" data-type="2"  mod="new"
                                            ytag="21003">
                                             新品</a></li>
                            <li class=""><a id="J_default" href="javascript:;" class="J_ytag modList" data-type="2" mod="default"
                                            ytag="21004">默认</a></li>
                        </ul>
                    </div>
                    <!--/筛选-->
                </div>
                <!--列表-->
                @{Html.RenderPartial("_ProductList", Model);}
                
                <!--/列表-->
           
            </div>
        }
        <!-- 筛选 -->
        
        <!--/列表页-->
    </div>

</div>


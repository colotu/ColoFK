@{
    Layout = "/Areas/MShop/Themes/F1/Views/Shared/_BaseLayout.cshtml";
    ViewBag.Title = "注册";
    string regStr = ViewBag.RegisterToggle;
}
@model YSWL.MALL.ViewModel.Shop.RegisterModel
 
<script src="/Areas/MShop/Themes/F1/Content/Scripts/UserCenter/EmailRegister.js" type="text/javascript"></script>
 	<div data-role="content" class="ui-content" role="main">
   <input id="hfSMSIsOpen" type="hidden" value="@ViewBag.SMSIsOpen" /> 
 
    @using (Html.BeginForm("Register", "Account", FormMethod.Post, new { id = "formregister" }))
    { 
        <input id="hfRegisterToggle" type="hidden" value="@regStr" /> 
           <input type="hidden" id="hfPhoneNumber"/>
            
       <div class="contact-info">												
           <ul data-role="listview" data-inset="true" data-theme="d" class="ui-listview ui-listview-inset ui-corner-all ui-shadow">
               <li data-role="list-divider" role="heading" class="ui-li ui-li-divider ui-bar-b ui-first-child">用户注册</li>
               <li style="padding: 5px 10px 5px 10px" class="ui-li ui-li-static ui-btn-up-d ui-last-child">
 			
                   <table style="padding: 0; margin: 0; width: 100%;">
                       <tbody> 
                              @if (ViewBag.RegisterToggle == "Phone")
                              {
                                                                                                 
                                                                                                    <tr>
                                  <td width="80px"><label for="phone"  class="ui-input-text">手机号码：</label></td>
                                                                                                        <td>
                                                                                                             @Html.TextBoxFor(m => m.UserName, new { id = "phone", Class = "ui-input-text ui-body-c" })
                                                                                                           
                                                                                                        </td>
                              </tr>
                                                                                                   <tr   >
                                                                                                       <td width="80px"></td>
                                                                                                       <td   id="divPhoneTip" class="cart-editalertinfo">@Html.ValidationMessageFor(m => m.UserName) @ViewBag.hasemail</td>
                                                                                                   </tr>
                                                                                                
                                  if (ViewBag.SMSIsOpen)
                                  {                           
                                                                                                    <tr>
                                  <td width="80px"><label for="phone"  class="ui-input-text">验证码：</label></td>
                                                                                                        <td>
                                                                         <div  style="width:120px;display: inline-block;"><input type="text"  id="imageCode" class="ui-input-text ui-body-c" maxlength="4"   /></div>
                                                                                                           <img id="ImageCheck" onclick="ChangeImageCode()" src="/ValidateCode.aspx" tooltip="验证码"   style="vertical-align: middle;width: 80px;height: 34px;"/>
                                                                                                        </td>
                              </tr>
                              
                                    
 <tr   >
                                                                                                       <td width="80px"></td>
                                                                                                       <td   id="divImageCodeTip" class="cart-editalertinfo"> </td>
                                                                                                   </tr>
                                        

                                        <tr  class="txtphone" style="list-style-type: none"> <td colspan="2" >  <table    style="word-wrap: break-word; word-break: break-all;">
                                                                                                                    <tbody><tr>
                                                                                                                               <td width="80px"><label for="captcha" class="ui-input-text">效验码：</label></td>
                                                                                                                               <td width="120px">
                                                                                                                                @Html.TextBoxFor(m => m.SMSCode, new { id = "checkCode", maxlength = "6",  Class = "ui-input-text ui-body-c" })
                                                                                                                            
                                                                                                                               </td>
                                                                                                                               <td style="padding-left: 5px;" id="J-resend-mobile">
                                     
                                                                                                                                   <button id="btnSendSMS" type="button" data-mini="true"  class="ui-btn-hidden" data-disabled="false">发送验证码</button>
                                            
                                                                                                                               </td>
                                                                                                                           </tr>
                                                                                                                        <tr >
                                                                                                                            <td width="80px"></td>
                                                                                                                            <td colspan="2" id="cart-captchainfo" class="cart-editalertinfo">第一次下单需要验证手机号码，请点击上面的按钮获取。</td>
                                                                                                                        </tr>
                                                                                                                    </tbody></table>  </td></tr>
                                    <tr   >
                                                                                                       <td width="80px"></td>
                                                                                                       <td colspan="2" id="divVerifyCodeTip" class="cart-editalertinfo">  @ViewBag.SCodeError</td>
                                                                                                   </tr>
                                
                                  }


                              }
                              else
                              {
                                 
                                     <tr>
                                  <td width="80px"><label for="email"  class="ui-input-text">邮箱地址：</label></td>
                                  <td>
                                      @Html.TextBoxFor(m => m.UserName, new { id = "email", Class = "ui-input-text ui-body-c" })
                                  </td>
                              </tr>
                               <tr  >
                               <td width="80px"></td>
                               <td   id="divEmailTip" class="cart-editalertinfo">@Html.ValidationMessageFor(m => m.UserName) @ViewBag.hasemail</td>
                           </tr>

                                  
                                  
                              }
                           
                           <tr>
                               <td width="80px"><label for="nickname" class="ui-input-text">昵&#12288;&#12288;称：</label></td>
                               <td>
                                  	 @Html.TextBoxFor(m => m.NickName, new { id = "nickname", Class = "ui-input-text ui-body-c" })
                               </td>
                           </tr>
                           <tr  >
                               <td width="80px"></td>
                               <td   id="divNicknameTip" class="cart-editalertinfo" >@Html.ValidationMessageFor(m => m.NickName) @ViewBag.hasnickname</td>
                           </tr>	
                           <tr>
                               <td width="80px"><label for="pwd" class="ui-input-text">密&#12288;&#12288;码：</label></td>
                               <td>
                                   @Html.PasswordFor(m => m.Password, new { Class = "ui-input-text ui-body-c", id = "pwd" }) 
                               </td>
                           </tr>
                           <tr    >
                               <td width="80px"></td>
                               <td  id="divPwdTip" class="cart-editalertinfo" >@Html.ValidationMessageFor(m => m.Password)</td>
                           </tr>	
                           <tr>
                               <td width="80px"><label for="vpwd" class="ui-input-text">确认密码：</label></td>
                               <td>
                                   
                                   @Html.PasswordFor(m => m.ConfirmPassword, new { Class = "ui-input-text ui-body-c", id = "vpwd" }) 
                               </td>
                           </tr>
                           <tr    >
                               <td width="80px"></td>
                               <td   id="divVPwdTip" class="cart-editalertinfo" >@Html.ValidationMessageFor(m => m.ConfirmPassword)</td>
                           </tr>
                           

                           <tr>
                               <td width="80px"></td>
                               <td >
                                   <div style="margin-top: 5px;margin-left: -18px;">
                                       <input type="checkbox" style="width:18px;height:18px;margin-top: 2px;"   class="ui-body-c"  id="chkAgreement" /><span style="margin-left: 50px;">
                                                                                                                                                           同意 
                                                                                                                                                           <a href="@(ViewBag.BasePath)Account/UserAgreement"  rel="external" class="cursor_pointer">注册协议</a>
                                                                                                                                                       </span>
                            </div> 
                               </td>
                           </tr>
                           <tr >
                               <td width="80px"></td>
                               <td  id="divAgreementTip" class="cart-editalertinfo" ></td>
                           </tr>
                       </tbody></table>
                    			
                
							
                  
               </li>
           </ul>

           <a data-role="button" href="javascript:;"  data-ajax="false"  rel="external" id="btnEmailRegister"  data-theme="b"   class="ui-btn ui-btn-up-b ui-shadow ui-btn-corner-all">
               <span class="ui-btn-inner"><span class="ui-btn-text">注册</span></span>
           </a>
       </div>
    }

 </div>
    
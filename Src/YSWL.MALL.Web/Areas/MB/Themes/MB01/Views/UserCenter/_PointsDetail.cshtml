@using Webdiyer.WebControls.Mvc
@model PagedList<YSWL.MALL.Model.Members.PointsDetail>

@if (Model != null && Model.Count > 0)
{
    foreach (var item in Model)
    {
        if (item.Type == 0)
        {
            <div class="integral-item"><span class="integralTxt">@item.Description</span><span class="integralTime">@item.CreatedDate.ToString("yyyy-MM-dd HH:mm:ss")</span><span class="integralNum red">+@item.Score</span></div>
        }
        else
        {
            <div class="integral-item"><span class="integralTxt">@item.Description</span><span class="integralTime">@item.CreatedDate.ToString("yyyy-MM-dd HH:mm:ss")</span><span class="integralNum">-@item.Score</span></div>
        }


    }
}
else
{
    <div class="empty point_empty">
        <div class="txt">
            暂时还没有积分信息,快去获取吧 
        </div>
    </div>
}


<script type="text/javascript">
    $(function() {
        pullUp.init({
            //Ajax请求参数
            AjaxOptions: {
                //Ajax请求参数
                Params: { viewName: "_PointsDetailListMore" },
                //Ajax请求URL
                DataURL: "@(ViewBag.BasePath)u/PointsDetailList"
            },

            //当前页码
            CurrentPage: 2,
            //页码参数名称
            PageParamsName: "pageIndex",
            //每页数量
            PageSize: @(ViewBag.PageSize),
            //每页数量参数名称
            PageSizeParamsName: "pageSize",
            //内容容器
            ContentContainer: $("#LoadPointsList"),
            //正在加载提示框
            LoadingTipBox: $("#loadingMore"),
            //无更多数据提示框
            NoMoreTipBox: $("#noMoreProduct"),
            LoadFinish:false
        });
        $("#noMoreProduct").hide();
    });
</script>